<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>SDK and app size Document</title>

	<link rel="stylesheet" href="../css/styles.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1333)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">BeaconForStore SDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Ezeeworld</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Home</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">SDK and app size Document</h1>

					<h1>Summary</h1>

<p>Including the Neerby SDK in your application increases it size about 1.7 MB (as of SDK 1.8.3)</p>

<h1>SDK size</h1>

<p>The SDK is distributed as a .framework that contains a static library. This library is pretty heavy as it includes:</p>

<ul>
<li>compiled code for 4 CPU architectures  (armv7 &amp; arm64 for actual devices, i386 &amp; X86_64 for simulators)</li>
<li>debug symbols</li>
<li><a href="https://developer.apple.com/library/tvos/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW2">Bitcode</a></li>
</ul>


<p>Including all those elements allows:</p>

<ul>
<li>one SDK distribution for all architectures</li>
<li>creation of proper dSym files for use with tools such as Crashlytics</li>
<li><p>use of Bitcode features</p>

<p> The SDK with / without those features would be:</p></li>
</ul>


<table>
<thead>
<tr>
<th>  SDK size in MB   </th>
<th> With bitcode </th>
<th> Without bitcode </th>
</tr>
</thead>
<tbody>
<tr>
<td> <em>With debug symbols</em>   </td>
<td> 23           </td>
<td> 8,5 </td>
</tr>
<tr>
<td> <em>Without debug symbol</em>   </td>
<td> 17,4         </td>
<td> 8,3 </td>
</tr>
</tbody>
</table>


<p>We can see that most of the bloat is from the inclusion of bitcode, that is an <a href="http://llvm.org/docs/BitCodeFormat.html#overview">intermediate representation</a> that enables to generate code for any CPU architecture</p>

<h1>Application size</h1>

<p>When compiling an app that includes the Neerby SDK, only the necessary architectures are included in the binary: for instance when generating an app for the App Store the i386 et X86_64 architectures are not included.</p>

<p>Since Xcode 7 and iOS 9 the size of the .app generated by Xcode bears little relation with the size of the app that will be downloaded by the user because of the inclusion of bitcode.
When downloading the app:</p>

<ul>
<li>The bitcode is never included</li>
<li>If the device is running iOS 8 or below both architecture are downloaded (armv7 <em>and</em> arm64)</li>
<li>If the device is running iOS 9 only the current device architecture is downloaded (armv7 <em>or</em> arm64)</li>
</ul>


<p>Source: https://forums.developer.apple.com/thread/17903#57206</p>

<h1>Measured application size</h1>

<p>To simulate those various sizes we created a minimalistic Xcode project with only the default files</p>

<ul>
<li>Minimal iOS app, without Neerby SDK: 238 KB</li>
<li>This app + Neerby SDK, with all Xcode settings to default:  6.948 MB</li>
<li>This app + Neerby SDK + &ldquo;Enabled bitcode&rdquo; set to No: 1.912 MB (this simulate the size of the app download by a iOS 8 user)</li>
<li>This app + Neerby SDK + &ldquo;Enabled bitcode&rdquo; set to No + &ldquo;ARCHS&rdquo; set to &ldquo;arm64&rdquo;: 1.176 MB (this simulate the size of the app download by a iOS 9 user running an iPhone 5s or more recent )</li>
</ul>


					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">Copyright &copy; 2017 Ezeeworld. All rights reserved. Updated: 2017-01-10</p>
							
							
							<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1333)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src=""></script>
</body>
</html>